<div *ngIf="isSelectionsPresent(); else noselection"
     [ngStyle]="topLevelStyles()">
  <img class="blurred"
       [src]="ImageHref"
       [ngStyle]="imgStyles()"
       [width]="Width"
       [height]="Height">
  <div class="select-areas-overlay" [ngStyle]="overlayStyles()"></div>
  <div [ngStyle]="backgroundStyles()"></div>
  <div *ngFor="let area of Areas; let i = index">
    <div class="select-areas-outline" [ngStyle]="outlineStyles(area)"></div>
    <div class="select-areas-background-area"
         [style.background]="sanitizedAreaBackgroundStyles(area)"
         [ngStyle]="areaBackgroundOtherStyles(area)">
    </div>
    <div *ngIf="i === SelectedArea">
      <div class="delete-area" [ngStyle]="areaDeleteStyles(area)">
        <div class="select-areas-delete-area"></div>
      </div>
      <div class="select-areas-resize-handler w"
           [ngStyle]="areaResizeHandlerStyles(area, W)">
      </div>
      <div class="select-areas-resize-handler sw"
           [ngStyle]="areaResizeHandlerStyles(area, SW)">
      </div>
      <div class="select-areas-resize-handler s"
           [ngStyle]="areaResizeHandlerStyles(area, S)">
      </div>
      <div class="select-areas-resize-handler se"
           [ngStyle]="areaResizeHandlerStyles(area, SE)">
      </div>
      <div class="select-areas-resize-handler e"
           [ngStyle]="areaResizeHandlerStyles(area, E)">
      </div>
      <div class="select-areas-resize-handler ne"
           [ngStyle]="areaResizeHandlerStyles(area, NE)">
      </div>
      <div class="select-areas-resize-handler n"
           [ngStyle]="areaResizeHandlerStyles(area, N)">
      </div>
      <div class="select-areas-resize-handler nw"
           [ngStyle]="areaResizeHandlerStyles(area, NW)">
      </div>
    </div>
  </div>
</div>
<ng-template #noselection>
  <img [src]="ImageHref"
       [width]="Width"
       [height]="Height"
       [ngStyle]="imgNoSelectionStyles()">
</ng-template>
