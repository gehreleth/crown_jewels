<div *ngIf="_browserService.treePaneSelection; else noselection">
  <div [ngSwitch]="_browserService.treePaneSelection.type">
    <div *ngSwitchCase="nodeType.Zip">
      <p>Zip file</p>
    </div>
    <div *ngSwitchCase="nodeType.Folder">
      <p>Folder</p>
    </div>
    <div *ngSwitchCase="nodeType.Image">
      <div id="navtabs">
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a [ngClass]="_navLinkClass(browserView.Overview)"
               [routerLink]="_routerLink(browserView.Overview)">Whole page</a>
          </li>
          <li class="nav-item">
            <a [ngClass]="_navLinkClass(browserView.Selections)"
               [routerLink]="_routerLink(browserView.Selections)">Selections</a>
          </li>
        </ul>
      </div>
      <div *ngIf="_regionEditor.imageMeta; else nometa">
        <div *ngIf="_regionEditor.dimensions.clientWidth; else nodimensions"
             [ngSwitch]="view"
             [ngBusy]="_regionEditor.busyIndicator">
          <app-img-region-editor *ngSwitchCase="browserView.Overview"
             [imageMeta]="_regionEditor.imageMeta"
             [regions]="_regionEditor.overviewRegions"
             [dimensions]="_regionEditor.dimensions">
          </app-img-region-editor>
          <app-img-region-editor-bysel *ngSwitchCase="browserView.Selections"
             [imageMeta]="_regionEditor.imageMeta"
             [regions]="_regionEditor.regionsBySel"
             [pageRange]="_regionEditor.pageRange">
          </app-img-region-editor-bysel>
        </div>
        <ng-template #nodimensions>
          <img #dimensionProbe [src]="safeImageHref" class="img-fluid">
        </ng-template>
      </div>
      <ng-template #nometa>
        <p>Loading ...</p>
      </ng-template>
    </div>
  </div>
</div>
<ng-template #noselection>
  <p>No selection</p>
</ng-template>
